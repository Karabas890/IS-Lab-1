<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Main Page</title>
    <meta charset="UTF-8"/>
    <!-- Подключаем Bootstrap для стилей -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"/>
    <style>
        .container {
            margin-top: 50px;
        }
        .form-container {
            margin-bottom: 30px;
        }
        .center-button {
            display: flex;
            justify-content: center;
        }
    </style>
</h:head>
<body>
<div class="container">
    <h:form id="productForm">
        <h3>Manage Products</h3>
        <h:panelGrid columns="2" cellpadding="5" style="width: 100%;">
            <h:outputLabel for="productName" value="Product Name:"/>
            <h:inputText id="productName" value="#{productBean.product.name}" class="form-control" required="true" requiredMessage="Product name is required."/>

            <h:outputLabel for="productPrice" value="Price:"/>
            <h:inputText id="productPrice" value="#{productBean.product.price}" class="form-control" required="true" requiredMessage="Price is required." type="number"/>

            <h:outputLabel for="productOwner" value="Owner:"/>
            <h:inputText id="productOwner" value="#{productBean.product.owner.name}" class="form-control" required="true" requiredMessage="Owner name is required."/>

            <!-- Additional attributes as needed -->

            <h:commandButton value="Create Product" action="#{productBean.createProduct}" class="btn btn-success btn-block center-button"/>
        </h:panelGrid>
        <h:messages globalOnly="true" layout="table" style="color: red;" />
    </h:form>

    <h:form id="productListForm">
        <h3>Product List</h3>
        <p:dataTable value="#{productBean.products}" var="product"
                     paginator="true" rows="10"
                     paginatorTemplate="{FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}">
            <p:column headerText="Name">
                <h:outputText value="#{product.name}" />
            </p:column>
            <p:column headerText="Price">
                <h:outputText value="#{product.price}" />
            </p:column>
            <!-- Additional columns for other attributes -->

            <p:column headerText="Actions">
                <p:commandButton value="Update" action="#{productBean.updateProduct(product)}" icon="pi pi-pencil" />
                <p:commandButton value="Delete" action="#{productBean.deleteProduct(product)}" icon="pi pi-trash" />
            </p:column>
        </p:dataTable>
    </h:form>
</div>
<!-- Подключаем JS для обработки данных -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
